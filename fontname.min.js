// https://github.com/danbovey/fontname v1.0.1, minified
!function(r,n){"function"==typeof define&&define.amd?define(n):"object"==typeof module?module.exports=n():r.FontName=n()}(this,(function(){var r={parse:function(n){var e=r._bin,a=new Uint8Array(n);if("ttcf"==e.readASCII(a,0,4)){var t=8,i=e.readUint(a,t);t+=4;for(var o=[],f=0;f<i;f++){var u=e.readUint(a,t);t+=4,o.push(r._readFont(a,u))}return o}return[r._readFont(a,0)]},_readFont:function(n,e){var a=r._bin;e+=4;var t=a.readUshort(n,e);e+=8;for(var i=0;i<t;i++){var o=a.readASCII(n,e,4);e+=8;var f=a.readUint(n,e);if(e+=8,"name"===o)return r.name.parse(n,f)}throw new Error("Failed to parse file")}};return r._bin={readUshort:function(r,n){return r[n]<<8|r[n+1]},readUint:function(n,e){var a=r._bin.t.uint8;return a[3]=n[e],a[2]=n[e+1],a[1]=n[e+2],a[0]=n[e+3],r._bin.t.uint32[0]},readUint64:function(n,e){return 4294967296*r._bin.readUint(n,e)+r._bin.readUint(n,e+4)},readASCII:function(r,n,e){for(var a="",t=0;t<e;t++)a+=String.fromCharCode(r[n+t]);return a},readUnicode:function(r,n,e){for(var a="",t=0;t<e;t++){var i=r[n++]<<8|r[n++];a+=String.fromCharCode(i)}return a}},r._bin.t={buff:new ArrayBuffer(8)},r._bin.t.int8=new Int8Array(r._bin.t.buff),r._bin.t.uint8=new Uint8Array(r._bin.t.buff),r._bin.t.int16=new Int16Array(r._bin.t.buff),r._bin.t.uint16=new Uint16Array(r._bin.t.buff),r._bin.t.int32=new Int32Array(r._bin.t.buff),r._bin.t.uint32=new Uint32Array(r._bin.t.buff),r.name={},r.name.parse=function(n,e){var a=r._bin,t={};e+=2;var i=a.readUshort(n,e);e+=2;for(var o,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette","preferredFamily","preferredSubfamily"],u=e+=2,d=0;d<i;d++){var l=a.readUshort(n,e);e+=2;var b=a.readUshort(n,e);e+=2;var s=a.readUshort(n,e);e+=2;var c=a.readUshort(n,e);e+=2;var m=a.readUshort(n,e);e+=2;var v=a.readUshort(n,e);e+=2;var U,_=f[c],p=u+12*i+v;if(0==l)U=a.readUnicode(n,p,m/2);else if(3==l&&0==b)U=a.readUnicode(n,p,m/2);else if(0==b)U=a.readASCII(n,p,m);else if(1==b)U=a.readUnicode(n,p,m/2);else if(3==b)U=a.readUnicode(n,p,m/2);else{if(1!=l)throw new Error("unknown encoding "+b+", platformID: "+l);U=a.readASCII(n,p,m),console.log("reading unknown MAC encoding "+b+" as ASCII")}var y="p"+l+","+s.toString(16);null==t[y]&&(t[y]={}),t[y][_]=U,t[y]._lang=s}for(var w in t)if(null!=t[w].postScriptName)return t[w];for(var w in t){o=w;break}return console.log("returning name table with languageID "+t[o]._lang),t[o]},r}));